(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4835],{4654:function(){},9756:function(e,t,s){Promise.resolve().then(s.bind(s,221))},221:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(9268),a=s(1462),n=s(2992),l=s(4055),i=s(5326),c=s.n(i),d=s(8136),o=s(8582),u=s(4737),x=class{static async getUserAnswers(e,t){let s=await u.Z.get("/user-answers?".concat(t||""),{headers:{Authorization:"Bearer ".concat(e)}});return s.data}static async getByID(e,t){let s=await u.Z.get("/user-answers/".concat(t,"?populate=*"),{headers:{Authorization:"Bearer ".concat(e)}});return s.data}static async deleteByID(e,t){let s=await u.Z.delete("/user-answers/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});return s.data}},f=s(6006),m=s(8919),h=s(4824),p=s(7497),g=s.n(p);function j(e){let{token:t}=e,{deleteUserAnswer:s,answers:i,isLoading:u,query:p,setQuery:j,page:b,setPage:N}=function(e){let[t,s]=(0,f.useState)(""),r=(0,o.Z)(t,500),[a,n]=(0,f.useState)(1),l=g().stringify({sort:["createdAt:desc"],pagination:{page:a,pageSize:10},filters:{$or:[{id:{$eq:r}},{user_quiz_id:{id:{$eq:r}}},{question_id:{id:{$eq:r}}}]},fields:["is_correct"],populate:{question_id:{fields:["id"]},user_quiz_id:{fields:["id"]}}},{encodeValuesOnly:!0}),{data:i,isLoading:c}=(0,h.useQuery)(["user-answers",r,a],()=>x.getUserAnswers(e,l),{onError:()=>m.ZP.error("something went wrong please try again after refreshing")});return{deleteUserAnswer:async function(t){return x.deleteByID(e,t)},answers:i,isLoading:c,query:t,setQuery:s,page:a,setPage:n}}(t);return(0,r.jsxs)("div",{className:"w-full p-4",children:[(0,r.jsxs)("div",{className:"ml-auto flex w-full items-center justify-between gap-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"User Answers"}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 rounded-md border bg-gray-100 px-3 py-3 dark:border-gray-600 dark:bg-primaryBg",children:[(0,r.jsx)(d.dVI,{className:"text-xl"}),(0,r.jsx)("input",{type:"text",className:"bg-transparent outline-none",placeholder:"search",onChange:e=>j(e.target.value),value:p})]})})]}),(0,r.jsxs)("div",{className:"mt-8 rounded-md shadow-lg",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[750px] overflow-x-scroll rounded-md border bg-white p-4 shadow-lg dark:border-none dark:bg-primaryBg",children:[(0,r.jsx)("thead",{className:"border dark:border-gray-600",children:(0,r.jsxs)("tr",{className:"text-left",children:[(0,r.jsx)("td",{className:"p-4 font-bold",children:"ID"}),(0,r.jsx)("td",{className:"p-4 font-bold",children:"Question ID"}),(0,r.jsx)("td",{className:"p-4 font-bold",children:"User Quiz ID"}),(0,r.jsx)("td",{className:"p-4 font-bold",children:"Is Correct"}),(0,r.jsx)("td",{className:"p-4 font-bold",children:"Created At"}),(0,r.jsx)("td",{className:"p-4 text-right font-bold"})]})}),(0,r.jsx)("tbody",{className:"border dark:border-gray-600",children:u?(0,r.jsx)("td",{colSpan:6,className:"p-4 text-center",children:(0,r.jsx)(n.Z,{})}):(null==i?void 0:i.data)&&i.data.length>0?null==i?void 0:i.data.map(e=>{let{id:t,attributes:n}=e,{is_correct:l,question_id:i,user_quiz_id:d,createdAt:o}=n;return(0,r.jsxs)("tr",{className:"dark:hover:bg-tra  w-full hover:bg-gray-100 dark:hover:bg-transparent",children:[(0,r.jsx)("td",{className:"p-4 text-left",children:t}),(0,r.jsx)("td",{className:"p-4 text-left",children:i.data.id}),(0,r.jsx)("td",{className:"p-4 text-left",children:d.data.id}),(0,r.jsx)("td",{className:"p-4 text-left",children:l?"true":"false"}),(0,r.jsx)("td",{className:"p-4 text-left",children:c()(o).format("DD-MMMM-YYYY")}),(0,r.jsx)("td",{className:"flex items-center justify-end gap-2 p-4",children:(0,r.jsx)(a.Z,{fn:s,title:"".concat(t),label:"user quiz",id:t.toString(),keys:["user-quizzes"]})})]},t)}):(0,r.jsx)("td",{colSpan:6,className:"p-4 text-center",children:"No user answers found"})})]})}),(0,r.jsx)(l.Z,{page:b,pageCount:(null==i?void 0:i.meta.pagination.pageCount)||1,setPage:N})]})]})}},4769:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var r=s(9268);function a(e){let{children:t,className:s,loading:a,...n}=e;return(0,r.jsx)("button",{...n,disabled:a||n.disabled,className:"rounded-md bg-primary px-3 py-3  ".concat(s),children:a?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-b-white border-l-white border-t-white"}),(0,r.jsx)("span",{children:"Loading..."})]}):t})}},1462:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var r=s(9268),a=s(6006),n=s(4769),l=s(4824),i=s(8919),c=s(1033),d=s(5372),o=s(4105);function u(e){let{id:t,title:s,label:u,fn:x,keys:f}=e,m=(0,l.useQueryClient)(),[h,p]=(0,a.useState)(!1),{mutateAsync:g,isLoading:j}=(0,l.useMutation)([t],()=>x(t),{onSuccess:async()=>await m.invalidateQueries(f)});async function b(){try{await g(),p(!1),i.Am.success("".concat(u," delete successfully"))}catch(e){p(!1),i.Am.error(e.response.data.error.message||"something went wrong!")}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.VPh,{onClick:()=>p(!0),className:"cursor-pointer text-2xl text-gray-500 dark:text-white"}),(0,r.jsx)(o.Z,{open:h,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,r.jsx)(d.OvZ,{className:"mb-4 text-4xl text-red-500"}),(0,r.jsx)("h1",{className:"text-bold mb-4 text-center text-xl",children:"Warning!"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,r.jsxs)("p",{children:["Are you sure you want to delete a ",u]}),(0,r.jsx)("span",{className:"text-center text-xl font-bold",children:s})]}),(0,r.jsxs)("div",{className:"mt-8 flex items-center gap-4",children:[(0,r.jsx)(n.default,{onClick:b,loading:j,className:"w-full text-white",children:"Yes sure"}),(0,r.jsx)(n.default,{onClick:()=>p(!1),className:"w-full bg-transparent text-primary",children:"No cancel"})]})]})})]})}},2992:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(9268);function a(){return(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-[55px] w-[55px] animate-spin rounded-full border-2 border-l-primary border-r-primary border-t-primary dark:border-b-gray-500"})})}},4105:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(9268);function a(e){let{children:t,open:s}=e;return(0,r.jsx)(r.Fragment,{children:s?(0,r.jsx)("div",{className:"fixed left-0 top-0 z-50 flex min-h-screen w-full items-center justify-center bg-[rgba(0,0,0,0.6)]",children:(0,r.jsx)("div",{className:"w-full max-w-[550px] rounded-md bg-white p-4 dark:bg-primaryBg",children:t})}):(0,r.jsx)(r.Fragment,{})})}},4055:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(9268),a=s(4821),n=s(4769);function l(e){let{page:t,setPage:s,pageCount:l}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-end bg-white py-2 dark:bg-primaryBg",children:[(0,r.jsx)(n.default,{disabled:1===t,onClick:()=>s(t-1),className:"bg-transparent disabled:text-gray-400",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.RL9,{}),(0,r.jsx)("span",{children:"Prev"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("small",{children:"of"}),(0,r.jsx)("p",{children:l})]}),(0,r.jsx)(n.default,{disabled:t===l,onClick:()=>s(t+1),className:"bg-transparent disabled:text-gray-400",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(a.Bqb,{})]})})]})}},4737:function(e,t,s){"use strict";var r=s(4214),a=s(8611);let n=r.default.create({baseURL:"".concat(a.env.NEXT_PUBLIC_BASE_URL,"/api"),headers:{"Content-Type":"application/json"}});t.Z=n},8582:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(6006);function a(e,t){let[s,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let s=setTimeout(()=>a(e),t);return()=>{clearTimeout(s)}},[e,t]),s}}},function(e){e.O(0,[5625,6680,8121,9173,4550,1420,4824,4214,7497,9253,2961,1744],function(){return e(e.s=9756)}),_N_E=e.O()}]);