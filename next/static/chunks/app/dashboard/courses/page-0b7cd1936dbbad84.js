(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6034],{4654:function(){},3322:function(e,t,r){Promise.resolve().then(r.bind(r,124)),Promise.resolve().then(r.bind(r,4769)),Promise.resolve().then(r.bind(r,9510)),Promise.resolve().then(r.bind(r,445)),Promise.resolve().then(r.bind(r,9743)),Promise.resolve().then(r.bind(r,3402))},124:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(9268),a=r(443),n=r(5846),l=r.n(n),i=r(6006),c=r(8136),d=r(1462),o=r(4821),u=r(2992),x=r(4055),m=r(8582),f=r(8856),h=r(8919),p=r(4824),g=r(7497),b=r.n(g),j=function(e){let{token:t}=e,{deleteCourse:r,setQuery:n,query:g,courses:j,isLoading:y,setPage:N,page:v}=function(e){let t=(0,p.useQueryClient)(),[r,s]=(0,i.useState)(""),[a,n]=(0,i.useState)(1),l=(0,m.Z)(r,500),c=b().stringify({filters:{$or:[{title:{$containsi:l}},{description:{$containsi:l}},{id:{$eq:l}},{instructor_id:{username:{$containsi:l}}}]},populate:{instructor_id:{fields:["username"]}},pagination:{page:a,pageSize:10},fields:["title","is_published"],sort:["createdAt:desc"]},{encodeValuesOnly:!0}),{data:d,isLoading:o}=(0,p.useQuery)(["courses",l,a],()=>f.Z.getCourses(e,c),{onError:()=>h.ZP.error("something went wrong please try again after refreshing"),keepPreviousData:!0});return{deleteCourse:async function(r){await f.Z.deleteByID(e,r),await t.invalidateQueries({queryKey:["courses","select-courses"]})},setQuery:s,query:r,courses:d,isLoading:o,setPage:n,page:a}}(t);return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-inherit",children:"Courses"}),(0,s.jsxs)("div",{className:"ml-auto flex w-full items-center justify-end gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-md border bg-gray-100 px-3 py-3 dark:border-gray-600 dark:bg-primaryBg",children:[(0,s.jsx)(c.dVI,{className:"text-xl"}),(0,s.jsx)("input",{type:"text",className:"bg-transparent outline-none",placeholder:"search",value:g,onChange:e=>n(e.target.value)})]}),(0,s.jsx)(l(),{href:"/dashboard/courses/create",children:(0,s.jsx)(a.zx,{className:"flex w-fit items-center gap-2 text-white",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.B8K,{className:"text-xl"}),(0,s.jsx)("span",{children:"Add course"})]})})})]})]}),(0,s.jsxs)("div",{className:"mt-8 w-full rounded-md shadow-lg",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-[750px] rounded-md  border  bg-white p-4 dark:border-gray-600 dark:bg-primaryBg",children:[(0,s.jsx)("thead",{className:"border dark:border-gray-600 ",children:(0,s.jsxs)("tr",{className:"text-left",children:[(0,s.jsx)("td",{className:"p-4 font-bold",children:"ID"}),(0,s.jsx)("td",{className:"p-4 font-bold",children:"Course name"}),(0,s.jsx)("td",{className:"p-4 font-bold",children:"Instructor"}),(0,s.jsx)("td",{className:"p-4 font-bold",children:"Status"}),(0,s.jsx)("td",{className:"p-4 text-right font-bold"})]})}),(0,s.jsx)("tbody",{children:y?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"p-4 text-center",children:(0,s.jsx)(u.Z,{})})}):j&&j.data.length>0?null==j?void 0:j.data.map(e=>{let{id:t,attributes:a}=e,{title:n,instructor_id:i,is_published:c}=a;return(0,s.jsxs)("tr",{className:"w-full hover:bg-gray-100 dark:hover:bg-transparent",children:[(0,s.jsx)("td",{className:"p-4 text-left",children:t}),(0,s.jsx)("td",{className:"p-4 text-left",children:n}),(0,s.jsx)("td",{className:"p-4 text-left",children:i.data.attributes.username}),(0,s.jsx)("td",{className:"p-4 text-left",children:c?(0,s.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Publisehd"}):(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",children:"Draft"})}),(0,s.jsxs)("td",{className:"flex items-center justify-end gap-2 p-4",children:[(0,s.jsx)(l(),{href:"/dashboard/courses/".concat(t),children:(0,s.jsx)(o.yMw,{className:"cursor-pointer text-2xl text-gray-500 dark:text-white"})}),(0,s.jsx)(d.Z,{fn:r,title:"".concat(n),label:"Course",id:t.toString()})]})]},t)}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"p-4 text-center",children:"No courses found"})})})]})}),(0,s.jsx)(x.Z,{page:v,pageCount:(null==j?void 0:j.meta.pagination.pageCount)||1,setPage:N})]})]})}},1462:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(9268),a=r(6006),n=r(4769),l=r(4824),i=r(8919),c=r(1033),d=r(5372),o=r(4105);function u(e){let{id:t,title:r,label:u,fn:x,keys:m}=e,f=(0,l.useQueryClient)(),[h,p]=(0,a.useState)(!1),{mutateAsync:g,isLoading:b}=(0,l.useMutation)([t],()=>x(t),{onSuccess:async()=>await f.invalidateQueries(m)});async function j(){try{await g(),p(!1),i.Am.success("".concat(u," delete successfully"))}catch(e){p(!1),i.Am.error(e.response.data.error.message||"something went wrong!")}}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.VPh,{onClick:()=>p(!0),className:"cursor-pointer text-2xl text-gray-500 dark:text-white"}),(0,s.jsx)(o.Z,{open:h,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsx)(d.OvZ,{className:"mb-4 text-4xl text-red-500"}),(0,s.jsx)("h1",{className:"text-bold mb-4 text-center text-xl",children:"Warning!"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,s.jsxs)("p",{children:["Are you sure you want to delete a ",u]}),(0,s.jsx)("span",{className:"text-center text-xl font-bold",children:r})]}),(0,s.jsxs)("div",{className:"mt-8 flex items-center gap-4",children:[(0,s.jsx)(n.default,{onClick:j,loading:b,className:"w-full text-white",children:"Yes sure"}),(0,s.jsx)(n.default,{onClick:()=>p(!1),className:"w-full bg-transparent text-primary",children:"No cancel"})]})]})})]})}},443:function(e,t,r){"use strict";r.d(t,{zx:function(){return s.default},II:function(){return a.default},gx:function(){return i},ZD:function(){return c}});var s=r(4769);r(9510);var a=r(445);r(9743),r(3402);var n=r(9268);r(6006);let l={outline:"bg-white",filled:"bg-gray-100 dark:bg-primaryBg border-2 border dark:border-gray-500 dark:focus-within:border-primary focus-within:border-primary"};var i=function(e){let{label:t,variant:r,error:s,...a}=e;return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{htmlFor:"",className:"mb-2 text-sm",children:t}),(0,n.jsx)("textarea",{...a,className:"h-[200px] resize-none  rounded-md px-2 py-3 outline-none ".concat(l[r])}),s&&(0,n.jsx)("small",{className:"mt-1 text-sm text-red-500",children:s})]})};function c(e){let{title:t,value:r,onChange:s,name:a}=e;return(0,n.jsxs)("label",{className:"relative w-fit inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{name:a,onChange:s,type:"checkbox",checked:r,className:"sr-only peer"}),(0,n.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),(0,n.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:t})]})}},2992:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9268);function a(){return(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-[55px] w-[55px] animate-spin rounded-full border-2 border-l-primary border-r-primary border-t-primary dark:border-b-gray-500"})})}},4105:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(9268);function a(e){let{children:t,open:r}=e;return(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)("div",{className:"fixed left-0 top-0 z-50 flex min-h-screen w-full items-center justify-center bg-[rgba(0,0,0,0.6)]",children:(0,s.jsx)("div",{className:"w-full max-w-[550px] rounded-md bg-white p-4 dark:bg-primaryBg",children:t})}):(0,s.jsx)(s.Fragment,{})})}},4055:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(9268),a=r(4821),n=r(4769);function l(e){let{page:t,setPage:r,pageCount:l}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-end bg-white py-2 dark:bg-primaryBg",children:[(0,s.jsx)(n.default,{disabled:1===t,onClick:()=>r(t-1),className:"bg-transparent disabled:text-gray-400",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.RL9,{}),(0,s.jsx)("span",{children:"Prev"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{children:t}),(0,s.jsx)("small",{children:"of"}),(0,s.jsx)("p",{children:l})]}),(0,s.jsx)(n.default,{disabled:t===l,onClick:()=>r(t+1),className:"bg-transparent disabled:text-gray-400",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Next"}),(0,s.jsx)(a.Bqb,{})]})})]})}},4737:function(e,t,r){"use strict";var s=r(4214),a=r(8611);let n=s.default.create({baseURL:"".concat(a.env.NEXT_PUBLIC_BASE_URL,"/api"),headers:{"Content-Type":"application/json"}});t.Z=n},8582:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(6006);function a(e,t){let[r,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let r=setTimeout(()=>a(e),t);return()=>{clearTimeout(r)}},[e,t]),r}},8856:function(e,t,r){"use strict";var s=r(4737);t.Z=class{static async createCourse(e,t){let r=await s.Z.post("/courses",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});return r.data}static updateCourse(e,t,r){return s.Z.put("/courses/".concat(t),r,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}})}static async getCourseByID(e,t){return await s.Z.get("/courses/".concat(t,"?populate[instructor_id]=*&populate[course_image]=*&populate[tags][fields][0]=name&populate[lessons]=*"),{headers:{Authorization:"Bearer ".concat(e)}})}static async deleteByID(e,t){return await s.Z.delete("/courses/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}})}static async getCourses(e,t){let r=await s.Z.get("/courses?".concat(t||""),{headers:{Authorization:"Bearer ".concat(e)}});return r.data}}}},function(e){e.O(0,[5625,6680,6415,7079,3287,3296,1827,2162,8121,9173,1420,7240,4824,4214,7497,1644,9253,2961,1744],function(){return e(e.s=3322)}),_N_E=e.O()}]);