(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1757],{5131:function(e,t,a){Promise.resolve().then(a.bind(a,6562))},6562:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(9268),n=a(6006),s=a(189),i=a(9457),c=a(4552),o=a(8852),l=a(8919),u=a(4824),d=a(443);function f(e){let{token:t,tag:a}=e,{handleChange:f,handleSubmit:m,values:h,errors:g,loading:p}=function(e,t){let a=(0,u.useQueryClient)(),r=(0,n.useContext)(s.Y),{handleChange:d,handleSubmit:f,values:m,errors:h}=(0,o.TA)({initialValues:{name:t.data.attributes.name},validationSchema:c.B,async onSubmit(e){await x(e)}}),{mutateAsync:g,isLoading:p}=(0,u.useMutation)(a=>i.Z.updateTag(e,t.data.id,a),{onSuccess:async()=>{await a.invalidateQueries(["tags"]),null==r||r.onClose(),l.ZP.success("Tag updated successfully")}});async function x(e){try{let e={data:{name:m.name}};await g(e)}catch(e){l.ZP.error(e.response.data.error.message||"something went wrong, please try again!")}}return{handleChange:d,handleSubmit:f,values:m,errors:h,loading:p}}(t,a);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Update Tag"}),(0,r.jsx)("p",{children:a.data.attributes.name})]}),(0,r.jsxs)("form",{onSubmit:m,className:"rounded-md p-3 shadow-md",action:"",children:[(0,r.jsx)("div",{className:"mb-12",children:(0,r.jsx)(d.II,{name:"name",value:h.name,onChange:f,error:g.name,label:"Tag name",variant:"filled"})}),(0,r.jsx)(d.zx,{loading:p,type:"submit",className:"w-fit text-white",children:"Update tag"})]})]})}},443:function(e,t,a){"use strict";a.d(t,{zx:function(){return r.default},II:function(){return n.default},gx:function(){return c},ZD:function(){return o}});var r=a(4769);a(9510);var n=a(445);a(9743),a(3402);var s=a(9268);a(6006);let i={outline:"bg-white",filled:"bg-gray-100 dark:bg-primaryBg border-2 border dark:border-gray-500 dark:focus-within:border-primary focus-within:border-primary"};var c=function(e){let{label:t,variant:a,error:r,...n}=e;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"",className:"mb-2 text-sm",children:t}),(0,s.jsx)("textarea",{...n,className:"h-[200px] resize-none  rounded-md px-2 py-3 outline-none ".concat(i[a])}),r&&(0,s.jsx)("small",{className:"mt-1 text-sm text-red-500",children:r})]})};function o(e){let{title:t,value:a,onChange:r,name:n}=e;return(0,s.jsxs)("label",{className:"relative w-fit inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{name:n,onChange:r,type:"checkbox",checked:a,className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),(0,s.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:t})]})}},4737:function(e,t,a){"use strict";var r=a(4214),n=a(8611);let s=r.default.create({baseURL:"".concat(n.env.NEXT_PUBLIC_BASE_URL,"/api"),headers:{"Content-Type":"application/json"}});t.Z=s},189:function(e,t,a){"use strict";a.d(t,{V:function(){return i},Y:function(){return s}});var r=a(9268),n=a(6006);let s=(0,n.createContext)(null),i=e=>{let{children:t}=e,[a,i]=(0,n.useState)(!1);return(0,r.jsx)(s.Provider,{value:{open:a,onClose:()=>i(!1),onOpen:()=>i(!0)},children:t})}},9457:function(e,t,a){"use strict";var r=a(4737);t.Z=class{static async getTags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=await r.Z.get("/tags".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});return a.data}static async getTagByID(e,t){let a=await r.Z.get("/tags/".concat(t,"?populate=*"),{headers:{Authorization:"Bearer ".concat(e)}});return a.data}static async createTag(e,t){let a=await r.Z.post("/tags",t,{headers:{Authorization:"Bearer ".concat(e)}});return a.data}static async updateTag(e,t,a){let n=await r.Z.put("/tags/".concat(t),a,{headers:{Authorization:"Bearer ".concat(e)}});return n.data}static async deleteTag(e,t){let a=await r.Z.delete("/tags/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});return a.data}}},4552:function(e,t,a){"use strict";a.d(t,{B:function(){return n}});var r=a(353);let n=r.Ry({name:r.Z_().trim("name shopuld be valid").required("name should be required")})}},function(e){e.O(0,[5625,6680,6415,7079,3287,3296,1827,2162,1420,7240,4824,4214,5600,1644,9253,2961,1744],function(){return e(e.s=5131)}),_N_E=e.O()}]);